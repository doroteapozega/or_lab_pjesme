<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="description"
      content="Skup podataka sadrži 10 popularnih pjesama različitih kategorija i karakteristika, svi podaci su prikupljeni iz javno dostupnih izvora."
    />
    <meta name="author" content="Dorotea Požega" />
    <meta name="keywords" content="glazba, pjesme, izvođači" />
    <title>Početna</title>
    <style>
      body {
        background-color: floralwhite;
        color: black;
        margin: 0;
        padding: 20px;
      }
      h1 {
        text-align: center;
        color: black;
        margin-bottom: 55px;
      }
      p {
        text-align: center;
        color: black;
        margin-bottom: 45px;
        font-size: 17px;
      }
      ul {
        list-style-type: none;
        padding: 0;
        max-width: 450px;
        margin: 20px auto;
      }
      li {
        margin: 15px 0;
      }
      a {
        display: block;
        text-decoration: none;
        background-color: plum;
        color: black;
        padding: 10px 10px;
        border-radius: 50px;
        border: 1px solid gray;
        text-align: center;
        font-size: 20px;
      }
      a:hover {
        color: white;
        background-color: purple;
      }
    </style>
  </head>
  <body>
    <h1>Skup otvorenih podataka - pjesme</h1>
    <p>
      <em>
        Ovaj skup sadrži podatke o 10 popularnih pjesama <br />
        različitih kategorija i karakteristika. Sadrži <br />
        podatke o naslovu, autorima, žanrovima i slično. <br />
        Za više informacija odaberite jednu od opcija:
      </em>
    </p>
    <ul>
      <li><a href="/download/json">Preuzimanje podataka u JSON formatu</a></li>
      <li><a href="/download/csv">Preuzimanje podataka u CSV formatu</a></li>
      <li><a href="/datatable">Pregled podataka u tablici</a></li>
      <li><a href="/download/schema">Preuzimanje JSON scheme</a></li>
      <% if (isAuthenticated) { %>
      <li><a href="/profil">Korisnički profil</a></li>
      <li><a href="#" id="osvjezigumb">Osvježi preslike</a></li>
      <li><a href="/logout">Odjava</a></li>
      <% } else { %>
      <li><a href="/login">Prijava za dodatne opcije</a></li>
      <% } %>
    </ul>
    <script>
      document.getElementById("osvjezigumb")?.addEventListener("click", async (e) => {
        e.preventDefault();
        try {
          const res = await fetch("/osvjezi-preslike", { method: "GET" });
          const data = await res.json();
          if (res.ok) {
            alert("Preslike uspješno osvježene!");
          } else {
            alert("Greška: " + (data.message || "Nepoznata greška"));
          }
        } catch (err) {
          alert("Dogodila se greška pri osvježavanju preslika.");
        }
      });
    </script>
  </body>
</html>
